<ui:composition xmlns="http://www.w3.org/1999/xhtml"
                xmlns:ui="http://xmlns.jcp.org/jsf/facelets"
                xmlns:h="http://xmlns.jcp.org/jsf/html"
                xmlns:p="http://primefaces.org/ui"
                xmlns:f="http://xmlns.jcp.org/jsf/core"
                template="template.xhtml">
    <ui:define name="content">
        <h:form id="chart" widgetVar="chartForm">
            <p:outputPanel id="pnMsg">
                <div class="Container pd-bottom-0 mg-bottom-0">
                    <p:messages id="msgDashBoard" autoUpdate="true" closable="true"
                                showDetail="false" showSummary="true"/>
                </div>
            </p:outputPanel>

            <div class="Container100">
                <p:outputPanel styleClass="Container40" id="pnChart">
                    <div class="card">
                        <p:lineChart id="lineChart" widgetVar="lineChartWidget" model="#{dashBoardController.lineModel}"
                                     style="width: 100%; height: 500px;"/>

                        <p:commandButton type="button" value="Xuất pdf" icon="pi pi-print" onclick="exportChartToPDF()"
                                         styleClass="mr-2 mb-2" style="width: 130px; margin-top: 2%; margin-left: 2%"/>
                    </div>
                </p:outputPanel>

                <p:outputPanel styleClass="Container40" id="pnChart2" style="margin-left: 10%;">
                    <div class="card">
                        <p:barChart id="barChart" widgetVar="barChartWidget" model="#{dashBoardController.barModel}"
                                    style="width: 100%; height: 500px;"/>

                        <p:commandButton type="button" value="Xuất pdf" icon="pi pi-print" onclick="exportBarChart()"
                                         styleClass="mr-2 mb-2" style="width: 130px; margin-top: 2%; margin-left: 2%"/>
                    </div>
                </p:outputPanel>
            </div>

            <p:outputPanel styleClass="Container30" id="pnPieChart">
                <div class="card" style="width: 100%; height: 550px;">
                    <p:pieChart model="#{dashBoardController.pieChartModel}" style="width: 100%; height: 500px;"/>
                </div>
            </p:outputPanel>

            <p:outputPanel styleClass="Container60" id="tblBestSelling" style="margin-left: 3%; height: 500px;">
                <div class="card">
                    <p:outputLabel for="tbvl" value="Top các cuốn sách bán chạy"
                                   style="font-weight: bold; font-size: 16px; display: block; text-align: center; margin-bottom: 20px; margin-top: 20px"/>
                    <p:dataTable
                            id="tbvl"
                            value="#{dashBoardController.listBestSelling}"
                            var="book"
                            tableStyle="min-width: 300px; table-layout: fixed;"
                            rowIndexVar="index"
                            emptyMessage="Không có dữ liệu">
                        <p:column headerText="STT" style="width: 40px; text-align: center; font-size: 14px;">
                            <p:outputLabel styleClass="blackColor text-ellipsis" value="#{index + 1}"/>
                        </p:column>
                        <p:column headerText="Tên sách" style="width: 80px; text-align: center; font-size: 14px;">
                            <p:outputLabel styleClass="blackColor text-ellipsis" value="#{book.title}"/>
                        </p:column>
                        <p:column headerText="Tác giả" style="width: 80px; text-align: center; font-size: 14px;">
                            <p:outputLabel styleClass="blackColor text-ellipsis" value="#{book.author}"/>
                        </p:column>
                        <p:column headerText="Số lượng đã bán"
                                  style="width: 80px; text-align: center; font-size: 14px;">
                            <p:outputLabel styleClass="blackColor text-ellipsis" value="#{book.quantity}"/>
                        </p:column>
                    </p:dataTable>
                </div>
            </p:outputPanel>
        </h:form>
    </ui:define>
</ui:composition>